{"version":3,"sources":["../../src/is/disabled.js"],"names":["context","supports","element","label","hasAttribute","disabled","parents","some","isDisabledFieldset","focusFormDisabled","isDisabledForm","nodeName","toLowerCase"],"mappings":";;;;;;kBAoBe,UAASA,OAAT,EAAkB;AAC/B,MAAI,CAACC,QAAL,EAAe;AACbA,eAAW,yBAAX;AACD;;AAED,MAAMC,UAAU,gCAAiB;AAC/BC,WAAO,aADwB;AAE/BH;AAF+B,GAAjB,CAAhB;;AAKA,MAAIE,QAAQE,YAAR,CAAqB,oBAArB,CAAJ,EAAgD;AAC9C;AACA,WAAO,IAAP;AACD;;AAED,MAAI,CAAC,uCAA0BF,OAA1B,CAAL,EAAyC;AACvC;AACA,WAAO,KAAP;AACD;;AAED,MAAIA,QAAQG,QAAZ,EAAsB;AACpB;AACA,WAAO,IAAP;AACD;;AAED,MAAMC,UAAU,uBAAW,EAACN,SAASE,OAAV,EAAX,CAAhB;AACA,MAAII,QAAQC,IAAR,CAAaC,kBAAb,CAAJ,EAAsC;AACpC;AACA,WAAO,IAAP;AACD;;AAED,MAAI,CAACP,SAASQ,iBAAV,IAA+BH,QAAQC,IAAR,CAAaG,cAAb,CAAnC,EAAiE;AAC/D;AACA,WAAO,IAAP;AACD;;AAED,SAAO,KAAP;AACD,C;;AAtDD;;;;AACA;;;;AACA;;;;AAEA;;;;;;AANA;;AAOA,IAAIT,iBAAJ;;AAEA,SAASO,kBAAT,CAA4BN,OAA5B,EAAqC;AACnC,MAAMS,WAAWT,QAAQS,QAAR,CAAiBC,WAAjB,EAAjB;AACA,SAAOD,aAAa,UAAb,IAA2BT,QAAQG,QAA1C;AACD;;AAED,SAASK,cAAT,CAAwBR,OAAxB,EAAiC;AAC/B,MAAMS,WAAWT,QAAQS,QAAR,CAAiBC,WAAjB,EAAjB;AACA,SAAOD,aAAa,MAAb,IAAuBT,QAAQG,QAAtC;AACD","file":"disabled.js","sourcesContent":["\r\n// Determine if an element is disabled (i.e. not editable)\r\n\r\nimport contextToElement from '../util/context-to-element';\r\nimport getParents from '../get/parents';\r\nimport isNativeDisabledSupported from './native-disabled-supported';\r\n\r\nimport _supports from '../supports/supports';\r\nlet supports;\r\n\r\nfunction isDisabledFieldset(element) {\r\n  const nodeName = element.nodeName.toLowerCase();\r\n  return nodeName === 'fieldset' && element.disabled;\r\n}\r\n\r\nfunction isDisabledForm(element) {\r\n  const nodeName = element.nodeName.toLowerCase();\r\n  return nodeName === 'form' && element.disabled;\r\n}\r\n\r\nexport default function(context) {\r\n  if (!supports) {\r\n    supports = _supports();\r\n  }\r\n\r\n  const element = contextToElement({\r\n    label: 'is/disabled',\r\n    context,\r\n  });\r\n\r\n  if (element.hasAttribute('data-ally-disabled')) {\r\n    // treat ally's element/disabled like the DOM native element.disabled\r\n    return true;\r\n  }\r\n\r\n  if (!isNativeDisabledSupported(element)) {\r\n    // non-form elements do not support the disabled attribute\r\n    return false;\r\n  }\r\n\r\n  if (element.disabled) {\r\n    // the element itself is disabled\r\n    return true;\r\n  }\r\n\r\n  const parents = getParents({context: element});\r\n  if (parents.some(isDisabledFieldset)) {\r\n    // a parental <fieldset> is disabld and inherits the state onto this element\r\n    return true;\r\n  }\r\n\r\n  if (!supports.focusFormDisabled && parents.some(isDisabledForm)) {\r\n    // a parental <form> is disabld and inherits the state onto this element\r\n    return true;\r\n  }\r\n\r\n  return false;\r\n}\r\n"]}