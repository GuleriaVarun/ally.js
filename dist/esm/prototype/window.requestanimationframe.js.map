{"version":3,"sources":["../../src/prototype/window.requestanimationframe.js"],"names":["window","lastTime","vendors","requestAnimationFrameName","cancelAnimationFrameName","x","length","requestAnimationFrame","callback","currTime","Date","getTime","timeToCall","Math","max","id","setTimeout","cancelAnimationFrame","clearTimeout"],"mappings":";AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAOA,MAAP,KAAkB,WAAlB,IAAkC,YAAW;AAC3C,MAAIC,WAAW,CAAf;AACA,MAAMC,UAAU,CAAC,IAAD,EAAO,KAAP,EAAc,QAAd,EAAwB,GAAxB,CAAhB;AACA,MAAIC,4BAA4B,EAAhC;AACA,MAAIC,2BAA2B,EAA/B;;AAEA,OAAK,IAAIC,IAAI,CAAR,EAAWC,SAASJ,QAAQI,MAAjC,EAAyCD,IAAIC,MAA7C,EAAqD,EAAED,CAAvD,EAA0D;AACxDF,gCAA4BH,OAAOE,QAAQG,CAAR,IAAa,uBAApB,CAA5B;AACAD,+BAA2BJ,OAAOE,QAAQG,CAAR,IAAa,sBAApB,KACtBL,OAAOE,QAAQG,CAAR,IAAa,6BAApB,CADL;AAED;;AAED,MAAI,OAAOL,OAAOO,qBAAd,KAAwC,UAA5C,EAAwD;AACtDP,WAAOO,qBAAP,GAA+BP,OAAOG,yBAAP,KAAqC,UAASK,QAAT,EAAmB;AACrF,UAAMC,WAAW,IAAIC,IAAJ,GAAWC,OAAX,EAAjB;AACA,UAAMC,aAAaC,KAAKC,GAAL,CAAS,CAAT,EAAY,MAAML,WAAWR,QAAjB,CAAZ,CAAnB;AACA,UAAMc,KAAKf,OAAOgB,UAAP,CAAkB,YAAW;AACtCR,iBAASC,WAAWG,UAApB;AACD,OAFU,EAERA,UAFQ,CAAX;;AAIAX,iBAAWQ,WAAWG,UAAtB;AACA,aAAOG,EAAP;AACD,KATD;AAUD;;AAED,MAAI,OAAOf,OAAOiB,oBAAd,KAAuC,UAA3C,EAAuD;AACrDjB,WAAOiB,oBAAP,GAA8BjB,OAAOI,wBAAP,KAAoC,UAASW,EAAT,EAAa;AAC7EG,mBAAaH,EAAb;AACD,KAFD;AAGD;AACF,CA9BgC,EAAjC","file":"window.requestanimationframe.js","sourcesContent":["\r\n// Polyfill requestAnimationFrame for oldIE\r\n// adapted from https://gist.github.com/paulirish/1579671\r\n// requestAnimationFrame polyfill by Erik MÃ¶ller. fixes from Paul Irish and Tino Zijdel\r\n// original source was published under the MIT license\r\n// https://paulirish.com/2011/requestanimationframe-for-smart-animating/\r\n// http://my.opera.com/emoller/blog/2011/12/20/requestanimationframe-for-smart-er-animating\r\n\r\ntypeof window !== 'undefined' && (function() {\r\n  let lastTime = 0;\r\n  const vendors = ['ms', 'moz', 'webkit', 'o'];\r\n  let requestAnimationFrameName = '';\r\n  let cancelAnimationFrameName = '';\r\n\r\n  for (let x = 0, length = vendors.length; x < length; ++x) {\r\n    requestAnimationFrameName = window[vendors[x] + 'RequestAnimationFrame'];\r\n    cancelAnimationFrameName = window[vendors[x] + 'CancelAnimationFrame']\r\n      || window[vendors[x] + 'CancelRequestAnimationFrame'];\r\n  }\r\n\r\n  if (typeof window.requestAnimationFrame !== 'function') {\r\n    window.requestAnimationFrame = window[requestAnimationFrameName] || function(callback) {\r\n      const currTime = new Date().getTime();\r\n      const timeToCall = Math.max(0, 16 - (currTime - lastTime));\r\n      const id = window.setTimeout(function() {\r\n        callback(currTime + timeToCall);\r\n      }, timeToCall);\r\n\r\n      lastTime = currTime + timeToCall;\r\n      return id;\r\n    };\r\n  }\r\n\r\n  if (typeof window.cancelAnimationFrame !== 'function') {\r\n    window.cancelAnimationFrame = window[cancelAnimationFrameName] || function(id) {\r\n      clearTimeout(id);\r\n    };\r\n  }\r\n})();\r\n"]}