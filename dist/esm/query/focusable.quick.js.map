{"version":3,"sources":["../../src/query/focusable.quick.js"],"names":["selector","isFocusable","queryFocusableQuick","context","includeContext","includeOnlyTabbable","_selector","elements","querySelectorAll","_isFocusable","rules","except","onlyTabbable","result","filter","call","unshift"],"mappings":";AACA;AACA;;AAEA,OAAOA,QAAP,MAAqB,uBAArB;AACA,OAAOC,WAAP,MAAwB,iBAAxB;;AAEA,eAAe,SAASC,mBAAT,GAIP;AAAA,iFAAJ,EAAI;AAAA,MAHNC,OAGM,QAHNA,OAGM;AAAA,MAFNC,cAEM,QAFNA,cAEM;AAAA,MADNC,mBACM,QADNA,mBACM;;AACN,MAAMC,YAAYN,UAAlB;AACA,MAAMO,WAAWJ,QAAQK,gBAAR,CAAyBF,SAAzB,CAAjB;AACA;;AAEA,MAAMG,eAAeR,YAAYS,KAAZ,CAAkBC,MAAlB,CAAyB;AAC5CC,kBAAcP;AAD8B,GAAzB,CAArB;;AAIA,MAAMQ,SAAS,GAAGC,MAAH,CAAUC,IAAV,CAAeR,QAAf,EAAyBE,YAAzB,CAAf;;AAEA;AACA,MAAIL,kBAAkBK,aAAaN,OAAb,CAAtB,EAA6C;AAC3CU,WAAOG,OAAP,CAAeb,OAAf;AACD;;AAED,SAAOU,MAAP;AACD","file":"focusable.quick.js","sourcesContent":["\r\n// https://www.w3.org/TR/html5/editing.html#focusable\r\n// https://www.w3.org/WAI/PF/aria-practices/#keyboard\r\n\r\nimport selector from '../selector/focusable';\r\nimport isFocusable from '../is/focusable';\r\n\r\nexport default function queryFocusableQuick({\r\n  context,\r\n  includeContext,\r\n  includeOnlyTabbable,\r\n} = {}) {\r\n  const _selector = selector();\r\n  const elements = context.querySelectorAll(_selector);\r\n  // the selector potentially matches more than really is focusable\r\n\r\n  const _isFocusable = isFocusable.rules.except({\r\n    onlyTabbable: includeOnlyTabbable,\r\n  });\r\n\r\n  const result = [].filter.call(elements, _isFocusable);\r\n\r\n  // add context if requested and focusable\r\n  if (includeContext && _isFocusable(context)) {\r\n    result.unshift(context);\r\n  }\r\n\r\n  return result;\r\n}\r\n"]}