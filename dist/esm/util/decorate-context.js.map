{"version":3,"sources":["../../src/util/decorate-context.js"],"names":["nodeArray","destruct","context","forEach","disengage","engage","initialize","document","bind","noop","data"],"mappings":";AACA;;;;;AAKA,OAAOA,SAAP,MAAsB,oBAAtB;;AAEA,SAASC,QAAT,GAAkB,oBAAsB;AACtC,MAAI,CAAC,KAAKC,OAAV,EAAmB;AACjB;AACD;;AAED,OAAKA,OAAL,CAAaC,OAAb,CAAqB,KAAKC,SAA1B;AACA,OAAKF,OAAL,GAAe,IAAf;AACA,OAAKG,MAAL,GAAc,IAAd;AACA,OAAKD,SAAL,GAAiB,IAAjB;AACD;;AAED,SAASE,UAAT,GAAoC;AAAA,iFAAJ,EAAI;AAAA,MAAfJ,OAAe,QAAfA,OAAe;;AAClC,OAAKA,OAAL,GAAeF,UAAUE,WAAWK,QAArB,CAAf;AACA,OAAKL,OAAL,CAAaC,OAAb,CAAqB,KAAKE,MAA1B;AACA,SAAO;AACLD,eAAWH,SAASO,IAAT,CAAc,IAAd;AADN,GAAP;AAGD;;AAED,SAASC,IAAT,GAAgB,CAAE;;AAElB,eAAe,YAAmC;AAAA,kFAAJ,EAAI;AAAA,MAAzBJ,MAAyB,SAAzBA,MAAyB;AAAA,MAAjBD,SAAiB,SAAjBA,SAAiB;;AAChD,MAAMM,OAAO;AACXL,YAAQA,UAAUI,IADP;AAEXL,eAAWA,aAAaK,IAFb;AAGXP,aAAS;AAHE,GAAb;;AAMA,SAAOI,WAAWE,IAAX,CAAgBE,IAAhB,CAAP;AACD","file":"decorate-context.js","sourcesContent":["\r\n/*\r\n  The Context Decorator is intended to allow modules to easily map dis/engage methods to the general\r\n  dis/engage and context API format\r\n*/\r\n\r\nimport nodeArray from '../util/node-array';\r\n\r\nfunction destruct(/* {force: false} */) {\r\n  if (!this.context) {\r\n    return;\r\n  }\r\n\r\n  this.context.forEach(this.disengage);\r\n  this.context = null;\r\n  this.engage = null;\r\n  this.disengage = null;\r\n}\r\n\r\nfunction initialize({context} = {}) {\r\n  this.context = nodeArray(context || document);\r\n  this.context.forEach(this.engage);\r\n  return {\r\n    disengage: destruct.bind(this),\r\n  };\r\n}\r\n\r\nfunction noop() {}\r\n\r\nexport default function({engage, disengage} = {}) {\r\n  const data = {\r\n    engage: engage || noop,\r\n    disengage: disengage || noop,\r\n    context: null,\r\n  };\r\n\r\n  return initialize.bind(data);\r\n}\r\n"]}