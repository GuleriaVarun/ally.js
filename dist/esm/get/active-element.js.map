{"version":3,"sources":["../../src/get/active-element.js"],"names":["getDocument","context","_document","activeElement","e","nodeType","body","documentElement"],"mappings":";AACA;;;;;;;;AAQA,OAAOA,WAAP,MAAwB,sBAAxB;;AAEA,eAAe,YAA2B;AAAA,iFAAJ,EAAI;AAAA,MAAhBC,OAAgB,QAAhBA,OAAgB;;AACxC,MAAMC,YAAYF,YAAYC,OAAZ,CAAlB;AACA,MAAIE,sBAAJ;;AAEA,MAAI;AACF;AACA;AACAA,oBAAgBD,UAAUC,aAA1B;AACD,GAJD,CAIE,OAAOC,CAAP,EAAU,CAEX;AADC;;;AAGF;AACA;AACA;AACA,MAAI,CAACD,aAAD,IAAkB,CAACA,cAAcE,QAArC,EAA+C;AAC7CF,oBAAgBD,UAAUI,IAAV,IAAkBJ,UAAUK,eAA5C;AACD;;AAED,SAAOJ,aAAP;AACD","file":"active-element.js","sourcesContent":["\r\n/*\r\n  create ally.get.activeElement()\r\n    wrapping ally.get.activeElements()\r\n\r\n  fix ally.get.activeElements()\r\n    https://github.com/jquery/jquery-ui/blob/ffcfb85c9818954adda69e73cf9ba76ea07b554c/ui/safe-active-element.js\r\n*/\r\n\r\nimport getDocument from '../util/get-document';\r\n\r\nexport default function({ context } = {}) {\r\n  const _document = getDocument(context);\r\n  let activeElement;\r\n\r\n  try {\r\n    // IE9 throws an \"Unspecified error\" accessing document.activeElement from an <iframe>\r\n    // see https://github.com/jquery/jquery-ui/blob/ffcfb85c9818954adda69e73cf9ba76ea07b554c/ui/safe-active-element.js#L15-L21\r\n    activeElement = _document.activeElement;\r\n  } catch (e) {\r\n    // ignore\r\n  }\r\n\r\n  // IE11 may return null instead of an element\r\n  // see https://github.com/jquery/jquery-ui/blob/ffcfb85c9818954adda69e73cf9ba76ea07b554c/ui/safe-active-element.js#L23-L28\r\n  // https://github.com/jquery/jquery-ui/blob/ffcfb85c9818954adda69e73cf9ba76ea07b554c/ui/safe-active-element.js#L30-L35\r\n  if (!activeElement || !activeElement.nodeType) {\r\n    activeElement = _document.body || _document.documentElement;\r\n  }\r\n\r\n  return activeElement;\r\n}\r\n"]}