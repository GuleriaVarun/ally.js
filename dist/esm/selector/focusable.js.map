{"version":3,"sources":["../../src/selector/focusable.js"],"names":["selectInShadows","_supports","supports","selector","focusTable","focusFieldset","focusAudioWithoutControls","focusVideoWithoutControls","focusSummary"],"mappings":"AAAA;AACA;AACA;AACA;;AAEA,OAAOA,eAAP,MAA4B,2BAA5B;;AAEA,OAAOC,SAAP,MAAsB,sBAAtB;AACA,IAAIC,iBAAJ;;AAEA,IAAIC,iBAAJ;;AAEA,eAAe,YAAW;AACxB,MAAI,CAACD,QAAL,EAAe;AACbA,eAAWD,WAAX;AACD;;AAED,MAAI,OAAOE,QAAP,KAAoB,QAAxB,EAAkC;AAChC,WAAOA,QAAP;AACD;;AAED;AACAA,aAAW;AACT;AADS,KAEND,SAASE,UAAT,GAAsB,YAAtB,GAAqC,EAF/B;AAGT;AAHS,KAINF,SAASG,aAAT,GAAyB,WAAzB,GAAuC,EAJjC;AAKT;AACA;AACA;AAPS,IAQP;AACF;AACA;AAVS,IAWP;AACF;AAZS,IAaP;AACF;AAdS,IAeP;AACF;AAhBS,IAiBP;AACF;AAlBS,IAmBP,SAnBO,IAoBNH,SAASI,yBAAT,GAAqC,QAArC,GAAgD,kBApB1C,KAqBNJ,SAASK,yBAAT,GAAqC,QAArC,GAAgD,kBArB1C,KAsBNL,SAASM,YAAT,GAAwB,UAAxB,GAAqC,EAtB/B;AAuBT;AAvBS,IAwBP;AACF;AAzBS,IA0BP,mBA1BJ;;AA4BA;AACAL,aAAWH,gBAAgBG,QAAhB,CAAX;;AAEA,SAAOA,QAAP;AACD","file":"focusable.js","sourcesContent":["// NOTE: this selector MUST *never* be used directly,\r\n// always go through query/focusable or is/focusable.js\r\n// there are too many edge cases that they could be covered in\r\n// a simple CSS selectorâ€¦\r\n\r\nimport selectInShadows from '../util/select-in-shadows';\r\n\r\nimport _supports from '../supports/supports';\r\nlet supports;\r\n\r\nlet selector;\r\n\r\nexport default function() {\r\n  if (!supports) {\r\n    supports = _supports();\r\n  }\r\n\r\n  if (typeof selector === 'string') {\r\n    return selector;\r\n  }\r\n\r\n  // https://www.w3.org/TR/html5/editing.html#sequential-focus-navigation-and-the-tabindex-attribute\r\n  selector = ''\r\n    // IE11 supports.can focus <table> and <td>\r\n    + (supports.focusTable ? 'table, td,' : '')\r\n    // IE11 supports.can focus <fieldset>\r\n    + (supports.focusFieldset ? 'fieldset,' : '')\r\n    // Namespace problems of [xlink:href] explained in https://stackoverflow.com/a/23047888/515124\r\n    // svg a[*|href] does not match in IE9, but since we're filtering\r\n    // through is/focusable we can include all <a> from SVG\r\n    + 'svg a,'\r\n    // may behave as 'svg, svg *,' in chrome as *every* svg element with a focus event listener is focusable\r\n    // navigational elements\r\n    + 'a[href],'\r\n    // validity determined by is/valid-area.js\r\n    + 'area[href],'\r\n    // validity determined by is/disabled.js\r\n    + 'input, select, textarea, button,'\r\n    // browsing context containers\r\n    + 'iframe, object, embed,'\r\n    // interactive content\r\n    + 'keygen,'\r\n    + (supports.focusAudioWithoutControls ? 'audio,' : 'audio[controls],')\r\n    + (supports.focusVideoWithoutControls ? 'video,' : 'video[controls],')\r\n    + (supports.focusSummary ? 'summary,' : '')\r\n    // validity determined by is/valid-tabindex.js\r\n    + '[tabindex],'\r\n    // editing hosts\r\n    + '[contenteditable]';\r\n\r\n  // where ShadowDOM is supported, we also want the shadowed focusable elements (via \">>>\" or \"/deep/\")\r\n  selector = selectInShadows(selector);\r\n\r\n  return selector;\r\n}\r\n"]}