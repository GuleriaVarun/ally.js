{"version":3,"sources":["../../src/util/get-frame-element.js"],"names":["getFrameElement","selector","findDocumentHostElement","_window","_frameElement","undefined","potentialHosts","parent","document","querySelectorAll","some","call","element","_document","frameElement","e"],"mappings":";;;;;kBAgCwBA,e;;AA/BxB;;;;AACA;;;;AACA;;;;;;AAEA,IAAIC,iBAAJ;;AAEA,SAASC,uBAAT,CAAiCC,OAAjC,EAA0C;AACxC,MAAI,CAACF,QAAL,EAAe;AACbA,eAAW,+BAAgB,gBAAhB,CAAX;AACD;;AAED,MAAIE,QAAQC,aAAR,KAA0BC,SAA9B,EAAyC;AACvC,WAAOF,QAAQC,aAAf;AACD;;AAEDD,UAAQC,aAAR,GAAwB,IAAxB;;AAEA,MAAME,iBAAiBH,QAAQI,MAAR,CAAeC,QAAf,CAAwBC,gBAAxB,CAAyCR,QAAzC,CAAvB;AACA,KAAGS,IAAH,CAAQC,IAAR,CAAaL,cAAb,EAA6B,UAASM,OAAT,EAAkB;AAC7C,QAAMC,YAAY,kCAAmBD,OAAnB,CAAlB;AACA,QAAIC,cAAcV,QAAQK,QAA1B,EAAoC;AAClC,aAAO,KAAP;AACD;;AAEDL,YAAQC,aAAR,GAAwBQ,OAAxB;AACA,WAAO,IAAP;AACD,GARD;;AAUA,SAAOT,QAAQC,aAAf;AACD;;AAEc,SAASJ,eAAT,CAAyBY,OAAzB,EAAkC;AAC/C,MAAMT,UAAU,yBAAUS,OAAV,CAAhB;AACA,MAAI,CAACT,QAAQI,MAAT,IAAmBJ,QAAQI,MAAR,KAAmBJ,OAA1C,EAAmD;AACjD;AACA;AACA,WAAO,IAAP;AACD;;AAED,MAAI;AACF;AACA;AACA,WAAOA,QAAQW,YAAR,IAAwBZ,wBAAwBC,OAAxB,CAA/B;AACD,GAJD,CAIE,OAAOY,CAAP,EAAU;AACV,WAAO,IAAP;AACD;AACF","file":"get-frame-element.js","sourcesContent":["\r\nimport getContentDocument from './get-content-document';\r\nimport getWindow from './get-window';\r\nimport selectInShadows from './select-in-shadows';\r\n\r\nlet selector;\r\n\r\nfunction findDocumentHostElement(_window) {\r\n  if (!selector) {\r\n    selector = selectInShadows('object, iframe');\r\n  }\r\n\r\n  if (_window._frameElement !== undefined) {\r\n    return _window._frameElement;\r\n  }\r\n\r\n  _window._frameElement = null;\r\n\r\n  const potentialHosts = _window.parent.document.querySelectorAll(selector);\r\n  [].some.call(potentialHosts, function(element) {\r\n    const _document = getContentDocument(element);\r\n    if (_document !== _window.document) {\r\n      return false;\r\n    }\r\n\r\n    _window._frameElement = element;\r\n    return true;\r\n  });\r\n\r\n  return _window._frameElement;\r\n}\r\n\r\nexport default function getFrameElement(element) {\r\n  const _window = getWindow(element);\r\n  if (!_window.parent || _window.parent === _window) {\r\n    // if there is no parent browsing context,\r\n    // we're not going to get a frameElement either way\r\n    return null;\r\n  }\r\n\r\n  try {\r\n    // see https://developer.mozilla.org/en-US/docs/Web/API/Window/frameElement\r\n    // does not work within <embed> anywhere, and not within in <object> in IE\r\n    return _window.frameElement || findDocumentHostElement(_window);\r\n  } catch (e) {\r\n    return null;\r\n  }\r\n}\r\n"]}