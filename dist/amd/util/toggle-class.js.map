{"version":3,"sources":["../../src/util/toggle-class.js"],"names":["toggleClass","removeClass","addClass","getClassNames","element","className","getAttribute","split","force","classNames","idx","indexOf","hasClass","shouldHaveClass","undefined","splice","push","setAttribute","join"],"mappings":";;;;;;;;;;;;;;;;;;UA4BgBA,W,GAAAA,W;UAoBAC,W,GAAAA,W;UAIAC,Q,GAAAA,Q;AApDhB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA,WAASC,aAAT,CAAuBC,OAAvB,EAAgC;AAC9B,QAAMC,YAAYD,QAAQE,YAAR,IAAwBF,QAAQE,YAAR,CAAqB,OAArB,CAAxB,IAAyD,EAA3E;AACA,WAAOD,cAAc,EAAd,GAAmB,EAAnB,GAAwBA,UAAUE,KAAV,CAAgB,GAAhB,CAA/B;AACD;;AAEM,WAASP,WAAT,CAAqBI,OAArB,EAA8BC,SAA9B,EAAyCG,KAAzC,EAAgD;AACrD,QAAMC,aAAaN,cAAcC,OAAd,CAAnB;AACA,QAAMM,MAAMD,WAAWE,OAAX,CAAmBN,SAAnB,CAAZ;AACA,QAAMO,WAAWF,QAAQ,CAAC,CAA1B;AACA,QAAMG,kBAAkBL,UAAUM,SAAV,GAAsBN,KAAtB,GAA8B,CAACI,QAAvD;AACA;AACA,QAAIC,oBAAoBD,QAAxB,EAAkC;AAChC;AACD;AACD;AACA,QAAI,CAACC,eAAL,EAAsB;AACpBJ,iBAAWM,MAAX,CAAkBL,GAAlB,EAAuB,CAAvB;AACD;AACD;AACA,QAAIG,eAAJ,EAAqB;AACnBJ,iBAAWO,IAAX,CAAgBX,SAAhB;AACD;AACDD,YAAQa,YAAR,CAAqB,OAArB,EAA8BR,WAAWS,IAAX,CAAgB,GAAhB,CAA9B;AACD;;AAEM,WAASjB,WAAT,CAAqBG,OAArB,EAA8BC,SAA9B,EAAyC;AAC9C,WAAOL,YAAYI,OAAZ,EAAqBC,SAArB,EAAgC,KAAhC,CAAP;AACD;;AAEM,WAASH,QAAT,CAAkBE,OAAlB,EAA2BC,SAA3B,EAAsC;AAC3C,WAAOL,YAAYI,OAAZ,EAAqBC,SAArB,EAAgC,IAAhC,CAAP;AACD","file":"toggle-class.js","sourcesContent":["//\r\n// This util allows to easily add, remove or toggle classes.\r\n//\r\n// Using it is neccessary as IE 9 doesn't support element classList\r\n// and IE 11 doesn't support classList for SVG elements\r\n// see also https://developer.mozilla.org/en/docs/Web/API/Element/classList\r\n//\r\n// This file is a replacement for domtokenlist because of\r\n// https://github.com/medialize/ally.js/issues/147\r\n//\r\n// Usage:\r\n//\r\n// toggleClass(div, 'demo'); // Toggles the class `demo`\r\n// toggleClass(div, 'demo', true); // Adds the class `demo`\r\n// toggleClass(div, 'demo', false); // removes the class `demo`\r\n//\r\n// removeClass(div, 'demo');\r\n// addClass(div, 'demo');\r\n//\r\n\r\n/**\r\n * Extract an array of all classNames of the given DOM or SVG node\r\n */\r\nfunction getClassNames(element) {\r\n  const className = element.getAttribute && element.getAttribute('class') || '';\r\n  return className === '' ? [] : className.split(' ');\r\n}\r\n\r\nexport function toggleClass(element, className, force) {\r\n  const classNames = getClassNames(element);\r\n  const idx = classNames.indexOf(className);\r\n  const hasClass = idx !== -1;\r\n  const shouldHaveClass = force !== undefined ? force : !hasClass;\r\n  // Break if classes are already set/removed\r\n  if (shouldHaveClass === hasClass) {\r\n    return;\r\n  }\r\n  // Remove class\r\n  if (!shouldHaveClass) {\r\n    classNames.splice(idx, 1);\r\n  }\r\n  // Add class\r\n  if (shouldHaveClass) {\r\n    classNames.push(className);\r\n  }\r\n  element.setAttribute('class', classNames.join(' '));\r\n}\r\n\r\nexport function removeClass(element, className) {\r\n  return toggleClass(element, className, false);\r\n}\r\n\r\nexport function addClass(element, className) {\r\n  return toggleClass(element, className, true);\r\n}\r\n"]}